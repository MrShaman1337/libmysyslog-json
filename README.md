### Описание функции `json_log`

`json_log` — это функция для записи логов в формате JSON с использованием библиотеки `libmysyslog-json`. Она позволяет логировать сообщения с указанием уровня важности и пути к файлу лога.

## Описание

Функция `json_log` предоставляет простой способ записывать лог-сообщения в формате JSON. Это удобно для структурированного мониторинга приложений и упрощает интеграцию с системами аналитики.

### Прототип функции

```c
int json_log(const char *msg, int level, const char *path);
```

### Параметры

- `msg` (const char *):  
  Строка с текстом сообщения, которое будет записано в лог. Сообщение должно быть уже отформатировано в виде JSON.

- `level` (int):  
  Уровень важности сообщения. Поддерживаемые значения:
  - `DEBUG` (0): Отладочная информация.
  - `INFO` (1): Информационное сообщение.
  - `WARN` (2): Предупреждение.
  - `ERROR` (3): Ошибка.
  - `CRITICAL` (4): Критическая ошибка.

- `path` (const char *):  
  Путь к файлу, в который будет записано сообщение.

### Возвращаемое значение

- Возвращает `0`, если запись в лог прошла успешно.
- Возвращает ненулевое значение, если произошла ошибка (например, невозможно открыть файл).

---

### Пример использования

```c
#include "libmysyslog-json.h"

int main() {
    const char *msg = "{\"event\":\"start\",\"status\":\"success\"}";
    int level = 2; // Уровень логирования (например, WARNING)
    const char *path = "/var/log/myapp.log";

    if (json_log(msg, level, path) != 0) {
        fprintf(stderr, "Ошибка записи лога\n");
        return 1;
    }

    return 0;
}
```

---

### Формат лога

Сообщения записываются в JSON-формате. Пример сообщения:

```json
{
    "event": "start",
    "status": "success"
}
```

---

### Основные возможности

- Запись логов в структурированном JSON-формате.
- Указание уровня логирования.

С помощью `json_log` можно реализовать простое и структурированное логирование событий в приложении, сохраняя их в формате, удобном для анализа и автоматической обработки.

